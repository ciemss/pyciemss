<!DOCTYPE html>
<html>

<head>
    <title>Embedding Vega-Lite</title>
    <script src="https://cdn.jsdelivr.net/npm/vega@5.22.1"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-lite@5.6.0"></script>
    <script src="https://cdn.jsdelivr.net/npm/vega-embed@6.21.0"></script>
</head>

<body>
    <div id="vis"></div>

    <script type="text/javascript">

        var yourVlSpec = 'bar_chart.vg.json'
        vegaEmbed("#vis", yourVlSpec).then(res => {

                // hacky, but wanted to find a way to trouble-shoot changes 
                // running getState in console of webbrowswer after a change
                //makes it easier to check changes in state
                //window.yourGlobalVariable._runtime
                window.yourGlobalVariable = res.view;
                 console.log(window.yourGlobalVariable.scenegraph().root)
                console.log(window.yourGlobalVariable.getState())
                console.log(window.yourGlobalVariable.data("table"))
                setTimeout(function(){console.log(res.view.getState())}, 2000);
            })
    </script>
</body>

</html>
